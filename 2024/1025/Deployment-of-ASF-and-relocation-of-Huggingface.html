<!DOCTYPE html><html lang=zh-CN><head><meta charset=utf-8><title>部署ASF并迁移Huggingface | zmalの折腾笔记</title><meta name=author content=zmal><meta name=description content=一个平平无奇的小站><meta name=keywords content=""><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel=icon href=/images/avatar.png><link rel=preconnect href=https://s4.zstatic.net><script src=https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js></script><link rel=stylesheet href=https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css><link rel=preconnect href=https://fonts.googleapis.cn><link rel=preconnect href=https://fonts.gstatic.cn crossorigin><link rel=stylesheet href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"><script>let mixins={}</script><script src=/js/jquery-3.7.1.js></script><script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script><script src=https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js></script><script src=https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/languages/bash.min.js></script><script src=https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js></script><link rel=stylesheet href=https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css><script src=/js/lib/highlight.js></script><script src=/js/preview.js></script><link rel=stylesheet href=/css/main.css><style>body{cursor:url(/images/Arrow.ico),auto}</style><script>((e,t)=>{var i=t.createElement("div"),n=(i.style.cssText="position: fixed; top: 0; left: 0; width: 0; height: 3px;box-shadow: 0 0 3px #999; background: -webkit-linear-gradient(left, red,orange,yellow,green,blue,indigo,violet );z-index: 999999;-webkit-transition:width .3s linear;",t.body.appendChild(i),e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight);e.addEventListener("scroll",function(){i.style.width=Math.round(pageYOffset/(t.body.offsetHeight-n)*100)+"%"},!1)})(window,document)</script><meta name=generator content="Hexo 7.3.0"></head><body><div id=layout><transition name=fade><div id=loading v-show=loading><div id=loading-circle><h2>LOADING</h2><p>加载过慢请开启缓存 浏览器默认开启</p><img src=/images/loading.gif></div></div></transition><div id=menu :class="{ hidden: hiddenMenu, 'menu-color': menuColor}"><nav id=desktop-menu><a class=title href=/ ><span>ZMALの折腾笔记</span> </a><a href=/ ><i class="fa-solid fa-house fa-fw"></i> <span>&ensp;Home</span> </a><a href=/about><i class="fa-solid fa-id-card fa-fw"></i> <span>&ensp;About</span> </a><a href=/archives><i class="fa-solid fa-box-archive fa-fw"></i> <span>&ensp;Archives</span></a></nav><nav id=mobile-menu><div class=title @click="showMenuItems = !showMenuItems"><i class="fa-solid fa-bars fa-fw"></i> <span>&emsp;ZMALの折腾笔记</span></div><transition name=slide><div class=items v-show=showMenuItems><a href=/ ><div class=item><div style=min-width:20px;max-width:50px;width:10%><i class="fa-solid fa-house fa-fw"></i></div><div style=min-width:100px;max-width:150%;width:20%>Home</div></div></a><a href=/about><div class=item><div style=min-width:20px;max-width:50px;width:10%><i class="fa-solid fa-id-card fa-fw"></i></div><div style=min-width:100px;max-width:150%;width:20%>About</div></div></a><a href=/archives><div class=item><div style=min-width:20px;max-width:50px;width:10%><i class="fa-solid fa-box-archive fa-fw"></i></div><div style=min-width:100px;max-width:150%;width:20%>Archives</div></div></a></div></transition></nav></div><transition name=fade><div id=menu-curtain @click="showMenuItems = !showMenuItems" v-show=showMenuItems></div></transition><div id=main :class="loading ? 'into-enter-from': 'into-enter-active'"><div class=article><div><h1>部署ASF并迁移Huggingface</h1></div><div class=info><span class=date><span class=icon><i class="fa-solid fa-calendar fa-fw"></i> </span>2024/10/25 </span><span class=tags><span class=icon><i class="fa-solid fa-tags fa-fw"></i> </span><span class=tag><a href=/tags/%E8%BF%81%E7%A7%BB/ style=color:#00a596>迁移</a></span></span></div><div class=content v-pre><h1 id=介绍><a href=#介绍 class=headerlink title=介绍></a>介绍</h1><p><del><a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm>ASF</a> is a C# application with primary purpose of farming Steam cards from multiple accounts simultaneously. Unlike Idle Master which works only for one account at given time, while requiring Steam client running in the background and launching additional processes imitating “game playing” status, ASF doesn’t require any Steam client running in the background, doesn’t launch any additional processes and is made to handle unlimited Steam accounts at once. In addition to that, it’s meant to be run on servers or other desktop-less machines, and features full cross-OS support, which makes it possible to launch on any operating system with .NET Core runtime, such as Windows, Linux and macOS. ASF is possible thanks to gigantic amount of work done in marvelous SteamKit2 library.</del></p><p><a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm>ASF</a> 是一款 C# 应用程序，其主要目的是同时从多个帐户中获取 Steam 卡。与 Idle Master 不同，Idle Master 每次只能为一个帐户工作，同时需要 Steam 客户端在后台运行并启动模拟“玩游戏”状态的其他进程，而 ASF 不需要任何 Steam 客户端在后台运行，不启动任何其他进程，并且可以同时处理无限数量的 Steam 帐户。除此之外，它还可以在服务器或其他无桌面机器上运行，并具有完整的跨操作系统支持，这使得它可以在任何具有 .NET Core 运行时的操作系统上启动，例如 Windows、Linux 和 macOS。ASF 之所以能够实现，要归功于在出色的 SteamKit2 库中所做的大量工作。</p><span id=more></span><h1 id=开始><a href=#开始 class=headerlink title=开始></a>开始</h1><p><a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Setting-up-zh-CN>官方文档</a></p><h2 id=安装-NET-依赖><a href=#安装-NET-依赖 class=headerlink title="安装.NET 依赖"></a>安装.NET 依赖</h2><p><a target=_blank rel=noopener href=https://learn.microsoft.com/zh-cn/dotnet/core/install/windows>Windows：</a></p><p><a target=_blank rel=noopener href="https://learn.microsoft.com/zh-cn/cpp/windows/latest-supported-vc-redist?view=msvc-170#visual-studio-2015-2017-2019-and-2022">Microsoft Visual C++ Redistributable Update</a>（64 位为 x64，32 位为 x86，64 位 ARM 为 arm64）<br>强烈建议您确保已安装所有 Windows 更新。 如果您未启用自动更新，则至少需要安装 KB2533623 和 KB2999226，但有可能还需要更多。 如果您的 Windows 已更新到最新，则无需专门安装。</p><p><a target=_blank rel=noopener href=https://learn.microsoft.com/zh-cn/dotnet/core/install/linux>Linux：</a></p><pre><code class=language-bash>apt-get update&amp;&amp; apt-get upgrade -y&amp;&amp; apt-get install -y ca-certificates libc6 libgcc-s1 libicu70 libgssapi-krb5-2 libssl3 libstdc++6 zlib1g
</code></pre><h2 id=下载可执行文件><a href=#下载可执行文件 class=headerlink title=下载可执行文件></a>下载可执行文件</h2><p><a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest>https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest</a></p><p><del>解压不教</del></p><p>这是一个文件夹结构的示例：</p><blockquote><p>D:\ASF (放置您自己与 ASF 相关的东西)<br>├── ASF shortcut.lnk (可选)<br>├── Config shortcut.lnk (可选)<br>├── Commands.txt (可选)<br>├── MyExtraScript.bat (可选)<br>├── (…) (任何您选择放在这里的其他文件，可选)<br>└── Core (ASF 自身专用文件夹，也就是您解压压缩包的地方)<br>├── ArchiSteamFarm(.exe)<br>├── config<br>│ ├── yourbotname.json # 配置好的json放这个位置<br>├── logs<br>├── plugins<br>└── (…)</p></blockquote><p><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/1.png></p><h2 id=配置><a href=#配置 class=headerlink title=配置></a>配置</h2><p>推荐使用官方<a target=_blank rel=noopener href=https://justarchinet.github.io/ASF-WebConfigGenerator/#/bot>在线配置文件生成器</a></p><p>你要是想自己手搓<a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-zh-CN>详细文档</a>在这里</p><p><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/2.png></p><p>下载之后扔到config文件夹</p><h2 id=启动><a href=#启动 class=headerlink title=启动></a>启动</h2><pre><code class=language-bash>./ArchiSteamFarm
</code></pre><p>第一次推荐控制台启动，方便看日志，后期windows可以用文件夹里的.exe启动，Linux可以用文件夹里的.sh启动<br><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/3.png><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/4.png></p><h2 id=后期修改配置文件><a href=#后期修改配置文件 class=headerlink title=后期修改配置文件></a>后期修改配置文件</h2><p>使用 <a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm/wiki/IPC-zh-CN#asf-ui>ASF-ui</a><br>当你看到控制台这些日志输出的时候，说明ASF-ui已被正确启动<del><em>别管我改端口号，默认就是<strong>1242</strong></em></del><br><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/5.png><br>访问<a target=_blank rel=noopener href=http://localhost:1242/ >http://localhost:1242</a><br>你会看到这样的面板<br><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/6.png><br><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/7.png><br>默认开始挂卡<br>我们<del>只需要</del>在GamesPlayedWhileIdle添加游戏的id就可以开始刷指定游戏的时长<br>其他的里面解释的很详细，自己看着改</p><h2 id=进一步配置><a href=#进一步配置 class=headerlink title=进一步配置></a>进一步配置</h2><p><em><strong>同时挂多个帐户</strong></em><br>ASF 支持同时挂多个帐户，这也是它的主要功能之一。 您可以通过生成更多机器人配置文件来向 ASF 添加更多帐户，其方法与您之前生成第一个机器人配置完全相同。 您只需要确保两件事：</p><ul><li>机器人的名称是唯一的，如果您将第一个机器人命名为“MainAccount”，其他的机器人就不能再叫这个名字。</li><li>登录信息正确，包括 SteamLogin、 SteamPassword 和 SteamParentalCode（如果您启用了 Steam 家庭监护）。</li></ul><p><strong>懒得写了</strong>，进一步配置自己看<a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Setting-up-zh-CN#%E8%BF%9B%E4%B8%80%E6%AD%A5%E9%85%8D%E7%BD%AE>文档</a>去</p><h1 id=下面开始将迁移到huggingface的步骤><a href=#下面开始将迁移到huggingface的步骤 class=headerlink title=下面开始将迁移到huggingface的步骤></a>下面开始将迁移到huggingface的步骤</h1><p>如果你不知道什么是<a target=_blank rel=noopener href=https://huggingface.co/ >huggingface</a>，<del>那我也懒得解释，</del>你只需要知道它是和cf差不多的赛博大善人就行</p><p>注册，登录，<strong>不教</strong><br><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/8.png><br>前面随便填，这里选docker</p><p><code>public</code>公开方便后期保活，<code>private</code>涉密安全</p><p><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/9.png><br>点这里创建Dockerfile</p><pre><code class=language-dockerfile>FROM ubuntu:22.04
EXPOSE 1242

RUN apt-get update \
    &amp;&amp; apt-get upgrade -y \
    &amp;&amp; apt-get install -y tzdata ca-certificates libc6 libgcc-s1 libicu70 libgssapi-krb5-2 libssl3 libstdc++6 zlib1g \
    &amp;&amp; apt-get install -y git wget zip

ENV TZ=Asia/Shanghai
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; echo $TZ &gt; /etc/timezone
    
WORKDIR /zmal
RUN wget https://github.com/JustArchiNET/ArchiSteamFarm/releases/download/6.0.7.5/ASF-linux-x64.zip
RUN unzip ASF-linux-x64.zip

COPY . .

#你要是想裸奔zip不设密码下面这个RUN就不用抄
RUN --mount=type=secret,id=zzz,mode=0444,required=true \
  unzip -P $(cat /run/secrets/zzz) config.zip -d /zmal/config/

#裸奔的吧这行取消注释RUN unzip config.zip -d /zmal/config/
RUN chmod -R 777 /zmal
CMD bash ArchiSteamFarm-Service.sh
</code></pre><p>直接照抄</p><p>然后再<code>Files</code>选项卡找到README.md<br>在末尾加上<code>app_port: 6221</code></p><p>停止你刚才在本地能正常跑的asf，把config里面的文件打包成config.zip,推荐带上解压密码</p><p><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/11.png>上传之后到<code>setting</code>选项卡设置<code>Secrets</code><img src=/2024/1025/Deployment-of-ASF-and-relocation-of-Huggingface/12.png><br>理论上来说过一会你就能在<code>app</code>选项卡进入<a target=_blank rel=noopener href=https://github.com/JustArchiNET/ArchiSteamFarm/wiki/IPC-zh-CN#asf-ui>ASF-ui</a>了，后期临时改配置都可以在里面操作</p><p>但<a target=_blank rel=noopener href=https://huggingface.co/ >huggingface</a>的docker里面数据不能持久化，要想稳只能先暂停bot，然后在本地改好重复上面的步骤覆盖上传config.zip</p><p><a target=_blank rel=noopener href=https://huggingface.co/ >huggingface</a>的space<del>好像</del>三天无访问就会自动休眠，我这里采用<a target=_blank rel=noopener href=https://uptimerobot.com/ >uptimerobot</a>探针报活，能用，但不好用，如果你知道其他更好的方法欢迎与我联系</p></div></div><footer id=footer><div id=footer-wrap><div>&copy; 2022 - 2025 zmalの折腾笔记 <span id=footer-icon><i class="fa-solid fa-font-awesome fa-fw"></i> </span>&commat;zmal</div><div>Based on the <a target=_blank rel=noopener href=https://hexo.io>Hexo Engine</a> &amp; <a target=_blank rel=noopener href=https://github.com/kmizmal/hexo-theme-particlex>ParticleX Theme</a></div><div>备案号： <a target=_blank rel=noopener href="https://icp.gov.moe/?keyword=20250124">萌ICP备20250124号</a></div><div><a target=_blank rel=noopener href=https://hoyocard.qhy04.com><img src=https://hoyocard.qhy04.com/gs/detail/rand/288292888.png alt=玩原神的这辈子有了></a></div></div></footer></div><script src=/js/TopIndex.js></script><script src=/js/canvas.js></script></div><script src=/js/main.js></script><script src=/js/span.js></script></body></html>