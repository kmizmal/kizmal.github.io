{"version":3,"names":["mixins","highlight","data","copying","supportedLanguages","created","hljs","configure","ignoreUnescapedHTML","languages","this","renderers","push","methods","sleep","ms","getLanguageClass","element","classes","classList","firstChild","find","c","startsWith","replace","codes","document","querySelectorAll","preElement","code","textContent","language","getLanguage","langModule","import","registerLanguage","default","console","warn","highlighted","ignoreIllegals","value","highlightAuto","innerHTML","content","querySelector","window","hljsLineNumbersBlock","singleLine","copycode","addEventListener","async","add","navigator","clipboard","writeText","remove"],"sources":["highlight.js.map"],"sourcesContent":["mixins.highlight = {\n  data() {\n    return {\n      copying: false,\n      supportedLanguages: ['bash', 'javascript', 'python', 'html', 'css']\n    };\n  },\n  created() {\n    hljs.configure({\n      ignoreUnescapedHTML: true,\n      languages: this.supportedLanguages // 限制自动检测范围\n    });\n    this.renderers.push(this.highlight);\n  },\n  methods: {\n    sleep(ms) {},\n    getLanguageClass(element) {\n      const classes = [...element.classList, ...(element.firstChild?.classList || [])];\n      return classes.find(c => c.startsWith('language-'))?.replace('language-', '') || 'plaintext';\n    },\n    async highlight() {\n      const codes = document.querySelectorAll(\"pre\");\n      for (const preElement of codes) {\n        const code = preElement.textContent;\n        const language = this.getLanguageClass(preElement);\n        if (!hljs.getLanguage(language)) {\n          try {\n            const langModule = await import(`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/es/languages/${language}.min.js`);\n            hljs.registerLanguage(language, langModule.default);\n          } catch {\n            console.warn(`Language ${language} not supported`);\n          }\n        }\n        let highlighted;\n        try {\n          highlighted = hljs.highlight(code, {\n            language,\n            ignoreIllegals: true\n          }).value;\n        } catch {\n          highlighted = hljs.highlightAuto(code).value;\n        }\n        preElement.innerHTML = `\n            <div class=\"code-content hljs\">${highlighted}</div>\n            <div class=\"language\">${language}</div>\n            <div class=\"copycode\">\n              <i class=\"fa-solid fa-copy fa-fw\"></i>\n              <i class=\"fa-solid fa-check fa-fw\"></i>\n            </div>\n          `;\n        const content = preElement.querySelector(\".code-content\");\n        if (window.hljsLineNumbersBlock) {\n          window.hljsLineNumbersBlock(content, {\n            singleLine: true\n          });\n        }\n        const copycode = preElement.querySelector(\".copycode\");\n        copycode.addEventListener(\"click\", async () => {\n          if (this.copying) return;\n          this.copying = true;\n          copycode.classList.add(\"copied\");\n          await navigator.clipboard.writeText(code);\n          await this.sleep(1000);\n          copycode.classList.remove(\"copied\");\n          this.copying = false;\n        });\n      }\n    }\n  }\n};"],"mappings":"AAAAA,OAAOC,UAAY,CACjBC,KAAI,KACK,CACLC,SAAS,EACTC,mBAAoB,CAAC,OAAQ,aAAc,SAAU,OAAQ,SAGjE,OAAAC,GACEC,KAAKC,UAAU,CACbC,qBAAqB,EACrBC,UAAWC,KAAKN,qBAElBM,KAAKC,UAAUC,KAAKF,KAAKT,UAC3B,EACAY,QAAS,CACP,KAAAC,CAAMC,GAAK,EACX,gBAAAC,CAAiBC,GACf,MAAMC,EAAU,IAAID,EAAQE,aAAeF,EAAQG,YAAYD,WAAa,IAC5E,OAAOD,EAAQG,MAAKC,GAAKA,EAAEC,WAAW,gBAAeC,QAAQ,YAAa,KAAO,WACnF,EACA,eAAMvB,GACJ,MAAMwB,EAAQC,SAASC,iBAAiB,OACxC,IAAK,MAAMC,KAAcH,EAAO,CAC9B,MAAMI,EAAOD,EAAWE,YAClBC,EAAWrB,KAAKM,iBAAiBY,GACvC,IAAKtB,KAAK0B,YAAYD,GACpB,IACE,MAAME,QAAmBC,OAAO,2EAA2EH,YAC3GzB,KAAK6B,iBAAiBJ,EAAUE,EAAWG,QAC7C,CAAE,MACAC,QAAQC,KAAK,YAAYP,kBAC3B,CAEF,IAAIQ,EACJ,IACEA,EAAcjC,KAAKL,UAAU4B,EAAM,CACjCE,WACAS,gBAAgB,IACfC,KACL,CAAE,MACAF,EAAcjC,KAAKoC,cAAcb,GAAMY,KACzC,CACAb,EAAWe,UAAY,gDACcJ,8CACTR,2LAM5B,MAAMa,EAAUhB,EAAWiB,cAAc,iBACrCC,OAAOC,sBACTD,OAAOC,qBAAqBH,EAAS,CACnCI,YAAY,IAGhB,MAAMC,EAAWrB,EAAWiB,cAAc,aAC1CI,EAASC,iBAAiB,SAASC,UAC7BzC,KAAKP,UACTO,KAAKP,SAAU,EACf8C,EAAS9B,UAAUiC,IAAI,gBACjBC,UAAUC,UAAUC,UAAU1B,SAC9BnB,KAAKI,MAAM,KACjBmC,EAAS9B,UAAUqC,OAAO,UAC1B9C,KAAKP,SAAU,EAAK,GAExB,CACF","ignoreList":[]}