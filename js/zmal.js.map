{"version":3,"names":["w","d","progressBar","createElement","style","cssText","body","appendChild","viewportHeight","innerHeight","documentElement","clientHeight","addEventListener","scrollableHeight","offsetHeight","scrollPercent","scrollY","width","Math","min","max","window","document","getAttribute","element","attr","defaultValue","resizeCanvas","a","canvas","innerWidth","clientWidth","c","height","animate","handleMouseParticle","particle","n","l","o","m","mouse","x","y","updateParticleColor","color","targetColor","random","floor","currentColor","match","map","Number","newColor","value","index","join","drawConnectionLine","t","ctx","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","clearRect","particles","forEach","xa","ya","updateParticlePosition","handleBoundaryBounce","fillRect","e","length","checkCollisions","requestAnimationFrame","tag","scripts","lastScript","canvasInfo","getElementsByTagName","z","getContext","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","id","onresize","onmousemove","event","clientX","clientY","onmouseout","f","h","g","v","p","push","setTimeout","quotes","a_idx","getRandomStyles","top","left","position","getRandomColor","$","click","quote","$quoteElement","text","css","pageX","pageY","append","rotationAngle","disappearTime","transform","transition","opacity","on","remove"],"sources":["zmal.js.map"],"sourcesContent":["// 进度条功能\n(function (w, d) {\n  // 创建一个进度条的div元素\n  const progressBar = d.createElement('div');\n  progressBar.style.cssText = `\n        position: fixed; \n        top: 0; \n        left: 0; \n        width: 0; \n        height: 3px; \n        box-shadow: 0 0 3px #999; \n        background: linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet); \n        z-index: 999999; \n        transition: width 0.3s linear;\n    `;\n\n  // 将进度条添加到文档的 body 中\n  d.body.appendChild(progressBar);\n\n  // 获取可视窗口的高度\n  const viewportHeight = w.innerHeight || d.documentElement.clientHeight || d.body.clientHeight;\n\n  // 添加滚动事件监听器\n  w.addEventListener('scroll', () => {\n    // 文档的总高度减去可视窗口高度（可滚动的最大距离）\n    const scrollableHeight = d.body.offsetHeight - viewportHeight;\n\n    // 计算滚动的百分比\n    const scrollPercent = scrollY / scrollableHeight * 100;\n\n    // 设置进度条的宽度，确保数值在 0% 到 100% 之间\n    progressBar.style.width = Math.min(Math.max(scrollPercent, 0), 100) + '%';\n  }, false);\n})(window, document);\n\n// 背景粒子效果\n!function () {\n  // 获取元素属性的函数\n  function getAttribute(element, attr, defaultValue) {\n    return element.getAttribute(attr) || defaultValue;\n  }\n\n  // 获取指定标签的所有元素\n  function getElements(tag) {\n    return document.getElementsByTagName(tag);\n  }\n\n  // 获取canvas的配置信息\n  function getCanvasInfo() {\n    var scripts = getElements(\"script\"),\n      lastScript = scripts.length - 1;\n    return {\n      l: lastScript + 1,\n      z: getAttribute(scripts[lastScript], \"zIndex\", -1),\n      o: getAttribute(scripts[lastScript], \"opacity\", 3),\n      c: getAttribute(scripts[lastScript], \"color\", \"255,0,0\"),\n      n: getAttribute(scripts[lastScript], \"count\", 85) // 粒子数量\n    };\n  }\n\n  // 调整canvas大小\n  function resizeCanvas() {\n    a = canvas.width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    c = canvas.height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n  }\n\n  // 动画函数\n  function animate() {\n    ctx.clearRect(0, 0, a, c); // 清除画布\n    let n, e, t, o, m, l;\n\n    // 遍历每个粒子\n    particles.forEach(function (particle, index) {\n      updateParticlePosition(particle);\n      handleBoundaryBounce(particle);\n      ctx.fillRect(particle.x - 0.5, particle.y - 0.5, 1, 1); // 绘制粒子\n      checkCollisions(particle, index);\n    });\n    function updateParticlePosition(particle) {\n      particle.x += particle.xa; // 更新粒子位置\n      particle.y += particle.ya;\n    }\n    function handleBoundaryBounce(particle) {\n      particle.xa *= particle.x > a || particle.x < 0 ? -1 : 1;\n      particle.ya *= particle.y > c || particle.y < 0 ? -1 : 1;\n    }\n    function checkCollisions(particle, index) {\n      for (let e = index + 1; e < particles.length; e++) {\n        let n = particles[e];\n        if (n.x !== null && n.y !== null) {\n          let o = particle.x - n.x;\n          let m = particle.y - n.y;\n          let l = o * o + m * m; // 计算距离\n\n          if (l < n.max) {\n            handleMouseParticle(particle, n, l, o, m);\n            let t = (n.max - l) / n.max; // 计算透明度\n            updateParticleColor(particle);\n            drawConnectionLine(particle, n, t);\n          }\n        }\n      }\n    }\n    function handleMouseParticle(particle, n, l, o, m) {\n      if (n === mouse && l >= n.max / 2) {\n        particle.x -= 0.03 * o;\n        particle.y -= 0.03 * m;\n      }\n    }\n    function updateParticleColor(particle) {\n      if (!particle.color) {\n        particle.color = 'rgba(255, 0, 0, 1)'; // 默认颜色\n      }\n      if (!particle.targetColor || Math.random() < 0.01) {\n        // 每 100 帧可能更换一次颜色\n        particle.targetColor = 'rgba(' + Math.floor(Math.random() * 255) + ',' + Math.floor(Math.random() * 255) + ',' + Math.floor(Math.random() * 255) + ',1)';\n      }\n      const currentColor = particle.color.match(/\\d+/g).map(Number);\n      const targetColor = particle.targetColor.match(/\\d+/g).map(Number);\n      const newColor = currentColor.map((value, index) => {\n        return Math.floor(value + (targetColor[index] - value) * 0.1); // 10%的过渡\n      });\n      particle.color = `rgba(${newColor.join(',')})`; // 更新当前颜色\n    }\n    function drawConnectionLine(particle, n, t) {\n      ctx.beginPath();\n      ctx.lineWidth = t / 2; // 根据距离设置线宽\n      ctx.strokeStyle = particle.color; // 使用当前颜色\n      ctx.moveTo(particle.x, particle.y);\n      ctx.lineTo(n.x, n.y);\n      ctx.stroke(); // 绘制连接线\n    }\n    requestAnimationFrame(animate); // 循环调用动画\n  }\n  var a,\n    c,\n    particles = [],\n    canvas = document.createElement(\"canvas\"),\n    canvasInfo = getCanvasInfo(),\n    l = \"c_n\" + canvasInfo.l,\n    ctx = canvas.getContext(\"2d\"),\n    requestAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n      window.setTimeout(callback, 1000 / 45);\n    },\n    w = Math.random,\n    mouse = {\n      x: null,\n      y: null,\n      max: 20000\n    };\n\n  // 设置canvas属性并添加到文档中\n  canvas.id = l;\n  canvas.style.cssText = \"position:fixed;top:0;left:0;z-index:\" + canvasInfo.z + \";opacity:\" + canvasInfo.o + \";\";\n  document.body.appendChild(canvas);\n  resizeCanvas(); // 调整canvas大小\n  window.onresize = resizeCanvas; // 窗口调整时重新设置canvas大小\n\n  // 鼠标移动事件\n  window.onmousemove = function (e) {\n    e = e || window.event;\n    mouse.x = e.clientX; // 更新鼠标位置\n    mouse.y = e.clientY;\n  };\n\n  // 鼠标移出事件\n  window.onmouseout = function () {\n    mouse.x = null;\n    mouse.y = null;\n  };\n\n  // 生成粒子，数量为canvasInfo.n\n  for (var f = 0; canvasInfo.n > f; f++) {\n    var h = w() * a,\n      g = w() * c,\n      v = 2 * w() - 1,\n      p = 2 * w() - 1;\n    particles.push({\n      x: h,\n      y: g,\n      xa: v,\n      ya: p,\n      max: 6000\n    }); // 添加粒子\n  }\n  particles.push(mouse); // 添加鼠标粒子\n  setTimeout(function () {\n    animate();\n  }, 100); // 启动动画\n}();\n\n// 鼠标点击特效\nconst quotes = [\"❤去活出你自己。❤\", \"❤今天的好计划胜过明天的完美计划。❤\", \"❤不要轻言放弃，否则对不起自己。❤\", \"❤紧要关头不放弃，绝望就会变成希望。❤\", \"❤如果不能改变结果，那就完善过程。❤\", \"❤好好活就是干有意义的事，有意义的事就是好好活！❤\", \"❤桃李春风一杯酒，江湖夜雨十年灯。❤\", \"❤欲买桂花同载酒，终不似，少年游。❤\"];\nlet a_idx = 0;\n\n// 点击事件处理\n$(\"body\").click(function (e) {\n  const quote = quotes[a_idx]; // 获取当前引用\n  a_idx = (a_idx + 1) % quotes.length; // 更新索引\n\n  const $quoteElement = $(\"<span class='quote'></span>\").text(quote).css(getRandomStyles(e.pageX, e.pageY));\n  $(\"body\").append($quoteElement);\n\n  // 生成随机旋转角度和消失时间\n  const rotationAngle = Math.floor(Math.random() * 81) - 40; // [-40, 40]\n  const disappearTime = Math.random() * 2.2 + 0.8; // [0.8, 3] 秒\n\n  // 设置初始旋转和缩放，并提示浏览器优化\n  $quoteElement.css({\n    \"transform\": `rotate(${rotationAngle}deg) scale(2.5)`,\n    \"transition\": `transform ${disappearTime}s ease, opacity ${disappearTime}s ease`,\n    \"will-change\": \"transform, opacity\"\n  });\n\n  // 使用 requestAnimationFrame 确保样式更新\n  requestAnimationFrame(() => {\n    // 确保旋转动画生效后再触发消失动画\n    setTimeout(() => {\n      $quoteElement.css({\n        \"opacity\": 0,\n        // 使元素渐隐\n        \"transform\": `translate(50px,-100px) scale(0.5) rotate(${rotationAngle / 2}deg)` // 使元素缩小并上移\n        //\"transition\": \"transform 1s ease, opacity 1s ease\" // 使元素缩小并上移\n      });\n    }, 10);\n  });\n\n  // 动画结束后移除元素\n  $quoteElement.on('transitionend', function () {\n    $quoteElement.remove();\n  });\n});\n\n// 获取随机样式\nfunction getRandomStyles(x, y) {\n  return {\n    \"z-index\": 9999,\n    \"top\": y - 20,\n    \"left\": x,\n    \"position\": \"absolute\",\n    \"font-weight\": \"bold\",\n    \"color\": getRandomColor() // 获取随机颜色\n  };\n}\n\n// 生成随机颜色\nfunction getRandomColor() {\n  const r = Math.floor(Math.random() * 256);\n  const g = Math.floor(Math.random() * 256);\n  const b = Math.floor(Math.random() * 256);\n  return `rgb(${r},${g},${b})`; // 返回RGB格式的颜色\n}"],"mappings":"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","ignoreList":[]}